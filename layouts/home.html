{{ define "main" }}
  <!-- Hero -->
  <section aria-labelledby="hero-title">
    <h1 id="hero-title">{{ .Site.Title }}</h1>
    {{ with .Summary }}
      <p class="muted">
        {{ . }}
      </p>
    {{ end }}


    <!-- Site search -->
    <label for="q">Поиск по сайту</label>
    <input
      type="search"
      id="pagefind-input"
      placeholder="Например: Милана, арабские имена, на букву Б"
      aria-label="Поиск по сайту"
    />
    <div id="pagefind-results" class="hidden"></div>
  </section>

  <!-- Quick entry blocks -->
  <section aria-labelledby="quick-entry">
    <h2 id="quick-entry">Быстрый выбор</h2>
    <div class="grid">
      {{ with .Site.Taxonomies.gender }}
        <article>
          <h3>По полу</h3>
          <p>Каталоги женских и мужских имён с краткими значениями и фильтрами.</p>
          <p>
            {{ range .ByCount }}
              <a href="{{ .Page.RelPermalink }}">{{ .Page.LinkTitle }}</a> ·
            {{ end }}
          </p>
        </article>
      {{ end }}
      {{ with .Site.GetPage "lists" }}
        <article>
          <h3>Подборки</h3>
          <p>Темы с высоким спросом и продуманной структурой.</p>
          <ul>
            {{ range .Pages.ByWeight | first 5 }}
              <li><a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a></li>
            {{ end }}
            {{ if gt (len .Pages) 5 }}
              <li><a href="{{ .RelPermalink }}">и ещё {{ len .Pages }}...</a></li>
            {{ end }}
          </ul>
        </article>
      {{ end }}
      {{ with .Site.Taxonomies.origin }}
        <article>
          <h3>Происхождение</h3>
          <p>Алфавитные списки и значения с транскрипцией.</p>
          <p>
            {{ range .ByCount }}
              <a href="{{ .Page.RelPermalink }}">{{ .Page.LinkTitle }}</a> ·
            {{ end }}
            {{ if gt (len .) 5 }}
              <a href="{{ .Page.RelPermalink }}">и ещё {{ len . }}...</a>
            {{ end }}
          </p>
        </article>
      {{ end }}
    </div>
  </section>

  {{ with .Site.Taxonomies.letters }}
    <!-- Letter navigation -->
    <section aria-labelledby="letters">
      <h2 id="letters">Имена по буквам</h2>
      <p>Выберите первую букву имени:</p>
      <nav aria-label="Навигация по буквам">
        <ul>
          {{ range . }}
            <li><a href="{{ .Page.RelPermalink }}">{{ .Page.Name | upper }}</a></li>
          {{ end }}
        </ul>
      </nav>
    </section>
  {{ end }}

  {{ with .Site.GetPage "tools" }}
    <!-- Tools / Calculator CTA -->
    <section aria-labelledby="tools">
      <h2 id="tools">Инструменты</h2>
      <div class="grid">
        {{ range .Pages }}
          <article>
            <h3>{{ .LinkTitle }}</h3>
            <p>
              {{ .Summary }}
            </p>
            <p><a href="{{ .RelPermalink }}" role="button">Открыть</a></p>
          </article>
        {{ end }}
      </div>
    </section>
  {{ end }}

  {{ with .GetPage "names" }}
    <!-- Featured names (popular cards) -->
    <section aria-labelledby="featured-names">
      <h2 id="featured-names">Популярные карточки имён</h2>
      <div class="grid">
        {{ range .Pages.ByWeight | first 6 }}
          <article>
            <h3><a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a></h3>
            <p>{{ .Summary }}</p>
            <p><a href="{{ .RelPermalink }}" role="button">Открыть карточку</a></p>
          </article>
        {{ end }}
      </div>
    </section>
  {{ end }}


  <!-- FAQ -->
  <section aria-labelledby="faq">
    <h2 id="faq">Частые вопросы</h2>
    <details>
      <summary>Как найти имя по смыслу (например, «сильный», «нежный»)?</summary>
      <p>
        Откройте раздел <a href="/semantics/">Смыслы</a> и выберите подходящую категорию (сильные,
        редкие, красивые и т.д.).
      </p>
    </details>
    <details>
      <summary>Где посмотреть правильное произношение и ударение?</summary>
      <p>
        На карточке каждого имени указываем ударение и варианты произношения; для иностранных имён —
        транскрипцию.
      </p>
    </details>
    <details>
      <summary>Есть ли у имён именины и как их узнать?</summary>
      <p>
        Если у имени есть праздник в святцах, мы показываем даты в блоке «Именины» на карточке
        имени.
      </p>
    </details>
  </section>
{{ end }}
